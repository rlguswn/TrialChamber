<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
    <head th:replace="~{fragments/header :: header}"></head>

<body>
    <nav th:replace="~{fragments/navbar :: navbar}"></nav>
    
    <main class="container">
        <div th:replace="~{fragments/banner :: banner}"></div>

        <div class="row justify-content-center">
            <div class="col-md-6">
                <h2 class="text-center mb-4">Create Problem</h2>

                <!-- Form for creating a new problem -->
                <form th:action="@{/post/{postId}/problem/new(postId=${postId})}" method="post">
                    <!-- Title Input -->
                    <div class="form-group mb-3">
                        <label for="title">Title</label>
                        <input type="text" class="form-control" id="title" name="title" required placeholder="Enter problem title">
                    </div>

                    <!-- Description Input -->
                    <div class="form-group mb-3">
                        <label for="description">Description</label>
                        <textarea class="form-control" id="description" name="description" required placeholder="Enter problem description"></textarea>
                    </div>

                    <!-- Answer Input (Added) -->
                    <div class="form-group mb-3">
                        <label for="answer">Answer</label>
                        <input type="text" class="form-control" id="answer" name="answer" required placeholder="Enter correct answer">
                    </div>

                    <!-- Trial Type and AutoGrade in one row -->
                    <div class="row mb-3">
                        <!-- Trial Type Select -->
                        <div class="col-md-6">
                            <label for="trialType">Trial Type</label>
                            <select class="form-control" id="trialType" name="trialType" required>
                                <option value="option">Option</option>
                                <option value="essay">Essay</option>
                                <option value="multiple">Multiple</option>
                            </select>
                        </div>

                        <!-- AutoGrade Checkbox (Modified) -->
                        <div class="col-md-6 d-flex align-items-center justify-content-end">
                            <label class="form-check-label me-2" for="autoGrade">Auto Grade</label>
                            <input class="form-check-input" type="checkbox" id="autoGrade" name="autoGrade" value="true">
                        </div>
                    </div>

                    <!-- Submit Button -->
                    <div class="d-grid mb-3">
                        <button type="submit" class="btn btn-bd-primary">Create Problem</button>
                    </div>
                </form>

                <!-- Back Button -->
                <div class="text-center">
                    <a th:href="@{/post/{postId}(postId=${postId})}" class="btn btn-secondary">Back to Post</a>
                </div>
            </div>
        </div>
    </main>

    <footer th:replace="~{fragments/footer :: footer}"></footer>

    <script th:replace="~{fragments/script :: script}"></script>
</body>
</html>
